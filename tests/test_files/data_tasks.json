{
    "columns": [
        {
            "name": "row_id",
            "classification": "Identifier",
            "confidence_score": "high",
            "data_type": "integer",
            "type": "Numerical",
            "unit": "",
            "expected_values": []
        },
        {
            "name": "order_id",
            "classification": "Identifier",
            "confidence_score": "high",
            "data_type": "string",
            "type": "Categorical",
            "unit": "",
            "expected_values": []
        },
        {
            "name": "order_date",
            "classification": "Temporal",
            "confidence_score": "high",
            "data_type": "datetime",
            "type": "Categorical",
            "unit": "",
            "expected_values": []
        },
        {
            "name": "ship_date",
            "classification": "Temporal",
            "confidence_score": "high",
            "data_type": "datetime",
            "type": "Categorical",
            "unit": "",
            "expected_values": []
        },
        {
            "name": "ship_mode",
            "classification": "Dimensional",
            "confidence_score": "high",
            "data_type": "string",
            "type": "Categorical",
            "unit": "",
            "expected_values": [
                "standard class",
                "second class",
                "first class",
                "same day"
            ]
        },
        {
            "name": "customer_id",
            "classification": "Identifier",
            "confidence_score": "high",
            "data_type": "string",
            "type": "Categorical",
            "unit": "",
            "expected_values": []
        },
        {
            "name": "customer_name",
            "classification": "PII",
            "confidence_score": "high",
            "data_type": "string",
            "type": "Categorical",
            "unit": "",
            "expected_values": []
        },
        {
            "name": "segment",
            "classification": "Dimensional",
            "confidence_score": "high",
            "data_type": "string",
            "type": "Categorical",
            "unit": "",
            "expected_values": [
                "consumer",
                "corporate",
                "home office"
            ]
        },
        {
            "name": "country",
            "classification": "Dimensional",
            "confidence_score": "high",
            "data_type": "string",
            "type": "Categorical",
            "unit": "",
            "expected_values": [
                "united states"
            ]
        },
        {
            "name": "city",
            "classification": "Dimensional",
            "confidence_score": "high",
            "data_type": "string",
            "type": "Categorical",
            "unit": "",
            "expected_values": []
        },
        {
            "name": "state",
            "classification": "Dimensional",
            "confidence_score": "high",
            "data_type": "string",
            "type": "Categorical",
            "unit": "",
            "expected_values": []
        },
        {
            "name": "postal_code",
            "classification": "Geospatial",
            "confidence_score": "high",
            "data_type": "integer",
            "type": "Categorical",
            "unit": "",
            "expected_values": []
        },
        {
            "name": "region",
            "classification": "Dimensional",
            "confidence_score": "high",
            "data_type": "string",
            "type": "Categorical",
            "unit": "",
            "expected_values": [
                "west",
                "east",
                "central",
                "south"
            ]
        },
        {
            "name": "product_id",
            "classification": "Identifier",
            "confidence_score": "high",
            "data_type": "string",
            "type": "Categorical",
            "unit": "",
            "expected_values": []
        },
        {
            "name": "category",
            "classification": "Dimensional",
            "confidence_score": "high",
            "data_type": "string",
            "type": "Categorical",
            "unit": "",
            "expected_values": [
                "furniture"
            ]
        },
        {
            "name": "sub_category",
            "classification": "Dimensional",
            "confidence_score": "high",
            "data_type": "string",
            "type": "Categorical",
            "unit": "",
            "expected_values": [
                "furnishings",
                "chairs",
                "tables",
                "bookcases"
            ]
        },
        {
            "name": "product_name",
            "classification": "Descriptive",
            "confidence_score": "high",
            "data_type": "string",
            "type": "Categorical",
            "unit": "",
            "expected_values": []
        },
        {
            "name": "sales",
            "classification": "Metric",
            "confidence_score": "high",
            "data_type": "float",
            "type": "Numerical",
            "unit": "",
            "expected_values": [
                "6.16",
                "1706.184"
            ]
        },
        {
            "name": "quantity",
            "classification": "Metric",
            "confidence_score": "high",
            "data_type": "integer",
            "type": "Numerical",
            "unit": "",
            "expected_values": [
                "1",
                "14"
            ]
        },
        {
            "name": "discount",
            "classification": "Metric",
            "confidence_score": "high",
            "data_type": "float",
            "type": "Numerical",
            "unit": "",
            "expected_values": [
                "0.0",
                "0.6"
            ]
        },
        {
            "name": "profit",
            "classification": "Metric",
            "confidence_score": "high",
            "data_type": "float",
            "type": "Numerical",
            "unit": "",
            "expected_values": [
                "-383.031",
                "219.582"
            ]
        }
    ],
    "common_column_combination": [
        {
            "name": "average_item_price",
            "description": "Calculates the average price per item sold.",
            "operation": {
                "source_columns": [
                    "sales",
                    "quantity"
                ],
                "expression": "sales / quantity"
            }
        },
        {
            "name": "profit_margin",
            "description": "Calculates the profit as a percentage of sales.",
            "operation": {
                "source_columns": [
                    "profit",
                    "sales"
                ],
                "expression": "profit / sales"
            }
        },
        {
            "name": "net_sales",
            "description": "Calculates sales after applying the discount.",
            "operation": {
                "source_columns": [
                    "sales",
                    "discount"
                ],
                "expression": "sales * (1 - discount)"
            }
        },
        {
            "name": "discount_amount",
            "description": "Calculates the monetary value of the discount applied.",
            "operation": {
                "source_columns": [
                    "sales",
                    "discount"
                ],
                "expression": "sales * discount"
            }
        }
    ],
    "common_column_cleaning_or_transformation": [
        {
            "name": "order_year",
            "description": "Extracts the year from the order date.",
            "operation": {
                "type": "date_op",
                "source_column": "order_date",
                "function": "YEAR"
            }
        },
        {
            "name": "order_month",
            "description": "Extracts the month from the order date.",
            "operation": {
                "type": "date_op",
                "source_column": "order_date",
                "function": "MONTH"
            }
        },
        {
            "name": "discount_category",
            "description": "Categorizes discounts into levels: No Discount, Low Discount, High Discount.",
            "operation": {
                "type": "map_range",
                "source_column": "discount",
                "ranges": [
                    {
                        "range": "0.0-0.0",
                        "label": "No Discount"
                    },
                    {
                        "range": "0.0-0.3",
                        "label": "Low Discount"
                    },
                    {
                        "range": "0.3-inf",
                        "label": "High Discount"
                    }
                ]
            }
        },
        {
            "name": "shipping_tier",
            "description": "Groups ship modes into broader shipping tiers.",
            "operation": {
                "type": "map",
                "source_column": "ship_mode",
                "mapping": {
                    "first class": "Expedited",
                    "same day": "Expedited",
                    "standard class": "Standard",
                    "second class": "Standard"
                }
            }
        }
    ],
    "common_tasks": [
        {
            "name": "Monthly Total Sales Trend by Region",
            "task_id": 1,
            "description": "Calculate the total sales for each region on a monthly basis to observe sales trends over time.",
            "steps": [
                {
                    "function": "resample_data",
                    "date_column": "order_date",
                    "frequency": "month",
                    "columns_to_aggregate": [
                        "sales"
                    ],
                    "calculation": "sum",
                    "static_group_cols": [
                        "region"
                    ]
                }
            ],
            "score": "high"
        },
        {
            "name": "Top 10 Product Names by Total Profit",
            "task_id": 2,
            "description": "Identify the 10 product names that have generated the highest total profit across all transactions.",
            "steps": [
                {
                    "function": "groupby",
                    "columns_to_group_by": [
                        "product_name"
                    ],
                    "columns_to_aggregate": [
                        "profit"
                    ],
                    "calculation": "sum"
                },
                {
                    "function": "get_top_or_bottom_N_entries",
                    "sort_by_column_name": "profit",
                    "order": "top",
                    "number_of_entries": 10,
                    "return_columns": [
                        "product_name",
                        "profit"
                    ]
                }
            ],
            "score": "high"
        },
        {
            "name": "Average Profit Margin per Product Sub-Category",
            "task_id": 3,
            "description": "Calculate the average profit margin for each product sub-category to assess their relative profitability.",
            "steps": [
                {
                    "function": "groupby",
                    "columns_to_group_by": [
                        "sub_category"
                    ],
                    "columns_to_aggregate": [
                        "profit_margin"
                    ],
                    "calculation": "mean"
                }
            ],
            "score": "high"
        },
        {
            "name": "Total Net Sales and Quantity by Shipping Tier",
            "task_id": 4,
            "description": "Summarize total net sales and total quantity for each shipping tier to evaluate the performance of different shipping services.",
            "steps": [
                {
                    "function": "groupby",
                    "columns_to_group_by": [
                        "shipping_tier"
                    ],
                    "columns_to_aggregate": [
                        "net_sales",
                        "quantity"
                    ],
                    "calculation": "sum"
                }
            ],
            "score": "medium"
        },
        {
            "name": "Sales and Profit by Discount Category",
            "task_id": 5,
            "description": "Analyze the total sales and total profit generated by different discount categories to understand the impact of discounting strategies.",
            "steps": [
                {
                    "function": "groupby",
                    "columns_to_group_by": [
                        "discount_category"
                    ],
                    "columns_to_aggregate": [
                        "sales",
                        "profit"
                    ],
                    "calculation": "sum"
                }
            ],
            "score": "high"
        },
        {
            "name": "Top 5 Customer IDs by Total Discount Amount",
            "task_id": 6,
            "description": "Identify the top 5 customer IDs who have received the largest total discount amount, indicating high-value discount beneficiaries.",
            "steps": [
                {
                    "function": "groupby",
                    "columns_to_group_by": [
                        "customer_id"
                    ],
                    "columns_to_aggregate": [
                        "discount_amount"
                    ],
                    "calculation": "sum"
                },
                {
                    "function": "get_top_or_bottom_N_entries",
                    "sort_by_column_name": "discount_amount",
                    "order": "top",
                    "number_of_entries": 5,
                    "return_columns": [
                        "customer_id",
                        "discount_amount"
                    ]
                }
            ],
            "score": "medium"
        },
        {
            "name": "Annual Average Item Price Trend",
            "task_id": 7,
            "description": "Calculate the average price per item for each year to observe annual pricing trends and strategies.",
            "steps": [
                {
                    "function": "groupby",
                    "columns_to_group_by": [
                        "order_year"
                    ],
                    "columns_to_aggregate": [
                        "average_item_price"
                    ],
                    "calculation": "mean"
                }
            ],
            "score": "high"
        },
        {
            "name": "Total Sales and Profit by Segment for 'Furniture' Category",
            "task_id": 8,
            "description": "Analyze total sales and profit generated by different customer segments specifically for products within the 'Furniture' category.",
            "steps": [
                {
                    "function": "filter",
                    "column_name": "category",
                    "operator": "in",
                    "values": [
                        "furniture"
                    ]
                },
                {
                    "function": "groupby",
                    "columns_to_group_by": [
                        "segment"
                    ],
                    "columns_to_aggregate": [
                        "sales",
                        "profit"
                    ],
                    "calculation": "sum"
                }
            ],
            "score": "high"
        },
        {
            "name": "Proportion of Sales by Product Category",
            "task_id": 9,
            "description": "Determine the percentage contribution of each product category to the total sales, highlighting major revenue streams.",
            "steps": [
                {
                    "function": "get_proportion",
                    "column_name": [
                        "category"
                    ]
                }
            ],
            "score": "medium"
        },
        {
            "name": "Average Sales and Quantity per City for 'Expedited' Shipping Tier",
            "task_id": 10,
            "description": "Calculate the average sales and quantity per city for orders that utilized the 'Expedited' shipping tier to identify high-volume expedited shipping locations.",
            "steps": [
                {
                    "function": "filter",
                    "column_name": "shipping_tier",
                    "operator": "in",
                    "values": [
                        "Expedited"
                    ]
                },
                {
                    "function": "groupby",
                    "columns_to_group_by": [
                        "city"
                    ],
                    "columns_to_aggregate": [
                        "sales",
                        "quantity"
                    ],
                    "calculation": "mean"
                }
            ],
            "score": "medium"
        }
    ]
}